# Health food meal planner
Данная программа (сервер) используется для расчета питания на основе нормы дневных ккал пользователя.

## Содержание
- [Технологии](#технологии)
- [Начало работы](#начало-работы)
- [Тестирование](#тестирование)
- [Deploy и CI/CD](#deploy-и-ci/cd)
- [Contributing](#contributing)
- [To do](#to-do)
- [Команда проекта](#команда-проекта)


## Использование
Сначала запускаем сервер, для этого в переменной окружения или флагом -d нужно указать адрес подключения к БД.

Эндпоинты:
/sign_in и"/sign_up" - используются для авторизации и регистрации, используется json формат. POST запрос.
Пример: { "login":"helen", "password":"12345" }
Пароли хранятся в виде хэша.

/food/add - добавление своего продукта. POST запрос.
Пример: { "foodname":"перец рамиро",
"proteins":"1",
"fats":"0",
"carbs":"5",
"feature":"овощ"
}

/food/dislike - добавление продукта, который не будет попадаться при расчете питания. POST запрос.
Пример: "огурец"

/settings - данные пользователя. GET (получить текущие данные) и POST (обновить данные) запросы.
Пример:
{ 
"gender":"F",
"height":"200",
"weight":"300",
"age":"30",
"amount":"4" 
 }

/calc/day - рассчитать питание на один день. GET запрос.
/calc/week - рассчитать питание на неделю. GET запрос.
/food/dislike - получить список продуктов, которые не участвуют в составлении питания. GET запрос.
/ping - Проверка работы БД. GET запрос.
/food/show - получить список продуктов, которые пользователь добавил сам. GET запрос.

/food/delete/dislike - Удаление продукта из списка тех, что не учитываются при расчете. DELETE запрос
/food/delete - Удаление продукта из списка тех, что пользователь добавил. DELETE запрос

## Компоненты
Внутренности программы находятся в директории internal/app

calculationHandler.go - основная логика работы программы, а также хэндлеры
checkHandler.go - проверка доступности БД
config.go - файл с конфигами для запуска сервера
dataBase.go - логика работы с базой данных
deleteHandler.go - хэндлеры с удалением данных
foodHandler.go - разные хэндлера с едой - добавление продуктов, их запрос
signHandler.go - логика авторизации пользователей
userInfoHandler.go - данные пользователей, по которым производиться расчет

Примеры таблиц, которые используются в базе данных, находятся в cmd/meal-planner





